
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>ConstrainedSphericalDeconvolution brick &#8212; mia_processes 2.6.1-dev+8d666fdb documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/haiku.css" />
    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../../../../index.html">
          <span>mia_processes 2.6.1-dev+8d666fdb documentation</span></a></h1>
        <h2 class="heading"><span>ConstrainedSphericalDeconvolution brick</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        <a class="uplink" href="../../../../index.html">Contents</a>
        </p>

      </div>
      <div class="content" role="main">
        
        
  <div class="toctree-wrapper compound">
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 35%" />
<col style="width: 40%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference external" href="../../../../index.html">Home</a></p></td>
<td><p><a class="reference external" href="../../../documentation.html">Documentation</a></p></td>
<td><p><a class="reference external" href="https://github.com/populse/mia_processes">GitHub</a></p></td>
</tr>
</tbody>
</table>
<section id="constrainedsphericaldeconvolution-brick">
<h1>ConstrainedSphericalDeconvolution brick<a class="headerlink" href="#constrainedsphericaldeconvolution-brick" title="Permalink to this headline">¶</a></h1>
<section id="estimate-fibre-orientation-distributions-fod">
<h2>Estimate fibre orientation distributions (FOD)<a class="headerlink" href="#estimate-fibre-orientation-distributions-fod" title="Permalink to this headline">¶</a></h2>
<p>Create Fiber Orientation Densities (FOD) using the basis functions generated by the
<a class="reference external" href="bricks/preprocess/mrtrix/ResponseSDDhollander.html">ResponseSDDhollander</a> brick.</p>
<p>The aim is to estimate the amount of diffusion in each of three orthogonal
directions. The FOD are estimated using spherical deconvolution.</p>
<p>(mrtrix dwi2fod command)</p>
<p><em>Please note that, in mia_processes, MRtrix bricks required diffusion data in MRtrix .mif format.
The MRConvert brick could be used to convert diffusion data in NIfTI format into MRtrix .mif format.
In this case, bvec and bval file should be specified.</em></p>
<hr class="docutils" />
<p><strong>Mandatory inputs parameters:</strong></p>
<ul>
<li><dl>
<dt><em>in_file</em> (a string representing an existing file)</dt><dd><p>Input DWI image (valid extensions: [.mif]).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ex</span><span class="o">.</span> <span class="s1">&#39;/home/username/data/raw_data/DWI.mif&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt><em>wm_txt</em> (a string representing an existing file)</dt><dd><p>WM (white matter) response text file, for example from <a class="reference external" href="bricks/preprocess/mrtrix/ResponseSDDhollander.html">ResponseSDDhollander</a> brick.</p>
<p>If csd algorithm is used, this file should only contain a a single row,
corresponding to the b-value used for CSD.
If msmt_csd algorithm is used, this file should have a number of rows equal
to the number of b-values used.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ex</span><span class="o">.</span> <span class="s1">&#39;/home/username/data/derived_data/DWI_response_wm.txt&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ul>
<p><strong>Optional inputs with default value parameters:</strong></p>
<ul>
<li><dl>
<dt><em>algorithm</em> (csd or msmt_csd, optional, default value is msmt_csd, optional)</dt><dd><div class="line-block">
<div class="line">The algorithm to use for FOD estimation.</div>
<div class="line-block">
<div class="line">- csd: perform single-shell single-tissue CSD. This algorithm only uses a single b-value.</div>
<div class="line">- msmt_csd: perform multi-shell multi-tissue CSD. This algorithm requires at least one unique b-values for each tissue compartiment to estimate.</div>
</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ex</span><span class="o">.</span> <span class="n">csd</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt><em>get_predicted_signal</em> (a boolean, default value is False, optional)</dt><dd><p>Get a file with the predicted signal from the FOD estimates (only for msmt_csd algorithm)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ex</span><span class="o">.</span> <span class="kc">False</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ul>
<p><strong>Optional inputs parameters:</strong></p>
<ul>
<li><dl>
<dt><em>csf_txt</em> (a string representing an existing file, optional)</dt><dd><p>CSF (Cerebrospinal fluid) response text file, for example from <a class="reference external" href="bricks/preprocess/mrtrix/ResponseSDDhollander.html">ResponseSDDhollander</a> brick.</p>
<p>If msmt_csd algorithm is used, this file should have a number of rows equal
to the number of b-values used.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ex</span><span class="o">.</span> <span class="s1">&#39;/home/username/data/derived_data/DWI_response_csf.txt&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt><em>gm_txt</em> (a string representing an existing file, optional)</dt><dd><p>GM (grey matter) response text file, for example from <a class="reference external" href="bricks/preprocess/mrtrix/ResponseSDDhollander.html">ResponseSDDhollander</a> brick.</p>
<p>If msmt_csd algorithm is used, this file should have a number of rows equal
to the number of b-values used.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ex</span><span class="o">.</span> <span class="s1">&#39;/home/username/data/derived_data/DWI_response_gm.txt&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt><em>in_mask</em> (a string representing an existing file, optional)</dt><dd><p>Mask image in order to only perform computation within this specified binary brain mask image</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ex</span><span class="o">.</span> <span class="s1">&#39;/home/username/data/derived_data/DWI_brainmask.mif&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt><em>in_directions</em> (a string representing an existing file, optional)</dt><dd><p>A text file containing [ az el ] pairs for the directions over which to apply the non-negativity
constraint (if not set, the built-in 300 direction set is used).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ex</span><span class="o">.</span> <span class="s1">&#39;/home/username/data/derived_data/directions.txt&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt><em>max_sh</em> (a list of items which are an integer, optional)</dt><dd><p>Maximum harmonic degree of response function (one by shell).
If omitted, the command will use the lmax of the corresponding response function
(i.e based on its number of coefficients), up to a maximum of 8.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ex</span><span class="o">.</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt><em>shell</em> (a list of items which are a float, optional)</dt><dd><p>Specify one or more b-values to use during processing.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ex</span><span class="o">.</span> <span class="p">[</span><span class="mf">1000.0</span><span class="p">,</span> <span class="mf">3000.0</span><span class="p">]</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ul>
<p><strong>Outputs parameters:</strong></p>
<ul>
<li><dl>
<dt><em>wm_odf</em> (a pathlike object or string representing a file)</dt><dd><p>Out WM ODF.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ex</span><span class="o">.</span> <span class="s1">&#39;/home/username/data/derived_data/DWI_wm_odf.mif&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt><em>gm_odf</em> (a pathlike object or string representing a file, optional)</dt><dd><p>Out GM ODF.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ex</span><span class="o">.</span> <span class="s1">&#39;/home/username/data/derived_data/DWI_gm_odf.mif&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt><em>csf_odf</em> (a pathlike object or string representing a file, optional)</dt><dd><p>Out CSF ODF.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ex</span><span class="o">.</span> <span class="s1">&#39;/home/username/data/derived_data/DWI_csf_odf.mif&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt><em>predicted_signal_file</em> (a pathlike object or string representing a file, optional)</dt><dd><p>Out predicted signal.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ex</span><span class="o">.</span> <span class="s1">&#39;/home/username/data/derived_data/DWI_odf_predicted_signal.mif&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ul>
<hr class="docutils" />
<p>Usefull links:</p>
<p><a class="reference external" href="https://mrtrix.readthedocs.io/en/latest/reference/commands/dwi2fod.html">mrtrix dwi2fod</a></p>
<p><a class="reference external" href="https://nipype.readthedocs.io/en/latest/api/generated/nipype.interfaces.mrtrix3.reconst.html#constrainedsphericaldeconvolution">mrtrix dwi2fod - nipype</a></p>
</section>
</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        <a class="uplink" href="../../../../index.html">Contents</a>
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, populse.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>
  </body>
</html>